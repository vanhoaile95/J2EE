<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
       

    </h:head>
    <h:body>
        <ui:composition  template= " Layout.xhtml">
             <ui:define name="LoginCSS">
              <h:outputStylesheet library="CSS" name ="style3.css" ></h:outputStylesheet>
             </ui:define>
             <ui:define name ="title">Login</ui:define>
             
            <ui:define name="content">
                <br/>
              
                    
                 <div class="login-wrap">
        <div class="login-html">
            <c:choose>
                <c:when test="#{loginManagedBean.pageDangKy == true}">
                      <input id="tab-2" type="radio" name="tab" class="sign-up" checked="checked" /><label for="tab-2" class="tab" style="cursor: pointer">Đăng ký</label>
                </c:when>
                <c:otherwise>
                      <input id="tab-1" type="radio" name="tab" class="sign-in"  checked="checked"/><label for="tab-1" class="tab" style="cursor: pointer">Đăng nhập</label>
                      <input id="tab-2" type="radio" name="tab" class="sign-up" /><label for="tab-2" class="tab" style="cursor: pointer"></label>
                </c:otherwise>
            </c:choose>
          
            
            <div class="login-form">
                  <h:form id="formid">
                <div class="sign-in-htm">
                    <div class="group">
                        <label for="user" class="label" >Tài khoản</label>
                      
                        <h:inputText id="user" required="true" requiredMessage="Chưa nhập Username" class="input" value ="#{loginManagedBean.modelLogin.username}"  ></h:inputText>
                         <h:message for="user" />
                    </div>
                    <div class="group">
                        <label for="pass" class="label">Mật khẩu</label>
                      
                        <h:inputSecret id="pass"  class="input" value="#{loginManagedBean.modelLogin.password}" required="true"  requiredMessage="Chưa nhập Password"></h:inputSecret>
                         <h:message for="pass" />
                    </div>
                    <div class="group">
                      
                        <h:selectBooleanCheckbox  class="check" id="check" value="#{loginManagedBean.modelLogin.duytriLogin}">
                            <f:ajax />
                        </h:selectBooleanCheckbox>
                        <label for="formid:check"><span class="icon"></span> Duy trỳ đăng nhập</label>
                        
                      
                    
                    </div>
                   
                        
                    <div class="group">
                        <h:commandButton class ="button" action="#{loginManagedBean.login()}" value="Đăng nhập" >
                         
                        </h:commandButton>
                        <br/>
                        
                        <c:choose>
                            <c:when test="#{loginManagedBean.modelLogin.errorMessage.length() > 0}">
                                <p style="text-align: center">#{loginManagedBean.modelLogin.errorMessage}</p>
                            </c:when>
                         </c:choose>
                    </div>
                    <div class="hr"></div>
                    <div class="foot-lnk">
                        <a href="#forgot">Quên Password?</a>
                    </div>
                </div>
                </h:form>
                
                <h:form>
                <div class="sign-up-htm">
                    <div class="group">
                        <label for="user1" class="label">Tài khoản</label>
                        <h:inputText id="user1" required="true" requiredMessage="Chưa nhập Username" class="input" value ="#{loginManagedBean.modelDangKy.username}"  ></h:inputText>
                         <h:message for="user1" />

                    </div>
                    <div class="group">
                        <label for="pass1" class="label">Mật khẩu</label>
                        <h:inputSecret id="pass1"  class="input" value="#{loginManagedBean.modelDangKy.password}" required="true"  requiredMessage="Chưa nhập Password"></h:inputSecret>
                         <h:message for="pass1" />
                        
                    </div>
                    <div class="group">
                         <label for="pass2" class="label">Nhập lại mật khẩu</label>
                         <h:inputSecret id="pass2"  class="input" required="true" value="#{loginManagedBean.modelDangKy.rePassword}" requiredMessage="Chưa nhập Password"></h:inputSecret>
                         <h:message for="pass2" />
                    </div>
                    <div class="group">
                        <label for="email" class="label">Email</label>
                        <h:inputText id="email" validatorMessage="Email sai cú pháp " requiredMessage="Chưa nhập Email" required="true" value="#{loginManagedBean.modelDangKy.email}" class="input">
                             <f:validateRegex
                                pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" 
                            />
                        </h:inputText>
                         <h:message for="email" />
                        
                        
                      
                       
                    </div>
                    <div class="group">
                        
                        <h:commandButton class ="button" action="#{loginManagedBean.register()}" value="Đăng ký" >
                        </h:commandButton>
                        <hr/>
                         <c:choose>
                             <c:when test="#{loginManagedBean.modelDangKy.errorMessage.length() > 0}">
                                 <p style="text-align: center">#{loginManagedBean.modelDangKy.errorMessage}</p>
                            </c:when>
                         </c:choose>
                    </div>
                    <div class="hr"></div>

                </div>
                    </h:form>
            </div>
        </div>
    </div>
                    
            </ui:define>
        </ui:composition>
    </h:body>
</html>

